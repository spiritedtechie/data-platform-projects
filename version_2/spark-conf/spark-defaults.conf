# Keep driver small
spark.driver.memory              512m
spark.driver.maxResultSize       256m

# Keep executors small (even in local mode these matter depending on how you submit)
spark.executor.memory            512m
spark.executor.cores             1

# Reduce parallelism (big memory saver)
spark.sql.shuffle.partitions     6
spark.default.parallelism        6

# Streaming: avoid huge state growth surprises
spark.sql.streaming.stateStore.providerClass org.apache.spark.sql.execution.streaming.state.HDFSBackedStateStoreProvider
spark.sql.streaming.stateStore.rocksdb.enable true
spark.sql.streaming.stateStore.rocksdb.compaction.style universal

# Reduce Kafka consumer footprint a bit
spark.kafka.consumer.cache.enabled false